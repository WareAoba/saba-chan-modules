[module]
name = "minecraft"
version = "0.1.0"
description = "Minecraft server management module with full lifecycle control"
game_name = "Minecraft"
display_name = "Minecraft"
entry = "lifecycle.py"
icon = "icon.png"
log_pattern = '/(?P<level>INFO|WARN|ERROR|DEBUG|FATAL)\]'

# 모듈 업데이트 설정 — 모듈은 별도 GitHub 레포지토리에서 관리됩니다
[update]
github_repo = "saba-chan-module-minecraft"  # github_owner는 본체 설정에서 상속

[protocols]
supported = ["rcon", "stdin"]
default = "rcon"
interaction_mode = "console"  # console: stdin 지원, 콘솔 UI 표시 | commands: 정해진 명령어만 실행

[config]
executable_path = ""
java_path = "java"
server_jar = "server.jar"
eula = true
process_name = "java.exe"
default_port = 25565
rcon_port = 25575
ram = "2G"

[detection]
process_patterns = ["java.exe", "minecraft_server"]
common_paths = [
    "C:\\Users\\*\\Desktop\\MinecraftServer",
    "C:\\MinecraftServer",
    "C:\\Games\\Minecraft\\server",
    "D:\\MinecraftServer"
]

# ─── Settings (displayed in GUI for instance configuration) ───

[settings]

# ========== saba-chan 전용 설정 (server.properties 아님) ==========

[[settings.fields]]
name = "executable_path"
type = "file"
label = "Server JAR Path"
description = "Path to server.jar file"
required = true
group = "saba-chan"

[[settings.fields]]
name = "java_path"
type = "file"
label = "Java Path"
description = "Path to Java executable (auto-detected if left blank)"
required = false
default = "java"
group = "saba-chan"

[[settings.fields]]
name = "ram"
type = "number"
label = "Memory (RAM)"
description = "Maximum memory in GB (e.g. 4 = 4GB, 0.5 = 512MB)"
default = 2
group = "saba-chan"

[[settings.fields]]
name = "use_aikar_flags"
type = "boolean"
label = "Aikar's Flags"
description = "Use recommended JVM flags for better GC performance"
default = false
group = "saba-chan"

[[settings.fields]]
name = "managed_start"
type = "boolean"
label = "Managed Start (Console)"
description = "Start in managed mode with stdin/stdout console (RCON disabled). Disable for native mode (RCON auto-enabled)."
default = true
group = "saba-chan"

[[settings.fields]]
name = "graceful_stop"
type = "boolean"
label = "Graceful Stop"
description = "Send 'stop' command and wait for server to shut down gracefully. Disable for immediate force-kill."
default = true
group = "saba-chan"

# ========== server.properties - 기본 설정 ==========

[[settings.fields]]
name = "accepts_transfers"
type = "boolean"
label = "Accepts Transfers"
description = "Allow connection transfer from other servers"
default = false
group = "advanced"

[[settings.fields]]
name = "allow_flight"
type = "boolean"
label = "Allow Flight"
description = "Allow flying in survival mode"
default = false

[[settings.fields]]
name = "allow_nether"
type = "boolean"
label = "Allow Nether"
description = "Allow players to travel to the Nether"
default = true

[[settings.fields]]
name = "broadcast_console_to_ops"
type = "boolean"
label = "Broadcast Console to Ops"
description = "Send console output to all online ops"
default = true
group = "advanced"

[[settings.fields]]
name = "broadcast_rcon_to_ops"
type = "boolean"
label = "Broadcast RCON to Ops"
description = "Send RCON command output to all online ops"
default = true
group = "advanced"

[[settings.fields]]
name = "bug_report_link"
type = "text"
label = "Bug Report Link"
description = "Custom bug report link"
default = ""
group = "advanced"

[[settings.fields]]
name = "difficulty"
type = "select"
label = "Difficulty"
description = "Game difficulty"
options = ["peaceful", "easy", "normal", "hard"]
default = "normal"

[[settings.fields]]
name = "enable_command_block"
type = "boolean"
label = "Command Blocks"
description = "Enable command blocks"
default = false

[[settings.fields]]
name = "enable_code_of_conduct"
type = "boolean"
label = "Code of Conduct"
description = "Enable code of conduct screen"
default = false
group = "advanced"

[[settings.fields]]
name = "enable_jmx_monitoring"
type = "boolean"
label = "JMX Monitoring"
description = "Enable JMX monitoring (exposes MBean)"
default = false
group = "advanced"

[[settings.fields]]
name = "enable_query"
type = "boolean"
label = "Enable Query"
description = "Enable the GameSpy4 query protocol"
default = false
group = "advanced"


[[settings.fields]]
name = "enable_status"
type = "boolean"
label = "Enable Status"
description = "Show server in multiplayer server list"
default = true
group = "advanced"

[[settings.fields]]
name = "enforce_secure_profile"
type = "boolean"
label = "Enforce Secure Profile"
description = "Require Mojang-signed public key for players"
default = true
group = "advanced"

[[settings.fields]]
name = "enforce_whitelist"
type = "boolean"
label = "Enforce Whitelist"
description = "Kick players not on whitelist when whitelist is reloaded"
default = false

[[settings.fields]]
name = "entity_broadcast_range_percentage"
type = "number"
label = "Entity Broadcast Range %"
description = "Entity broadcast range as percentage of default (10-1000)"
default = 100
min = 10
max = 1000
group = "advanced"

[[settings.fields]]
name = "force_gamemode"
type = "boolean"
label = "Force Game Mode"
description = "Force default gamemode on player join"
default = false
group = "advanced"

[[settings.fields]]
name = "function_permission_level"
type = "number"
label = "Function Permission Level"
description = "Default permission level for function commands (1-4)"
default = 2
min = 1
max = 4
group = "advanced"

[[settings.fields]]
name = "gamemode"
type = "select"
label = "Game Mode"
description = "Default game mode"
options = ["survival", "creative", "adventure", "spectator"]
default = "survival"

[[settings.fields]]
name = "generate_structures"
type = "boolean"
label = "Generate Structures"
description = "Generate structures like villages, mineshafts, etc."
default = true

[[settings.fields]]
name = "generator_settings"
type = "text"
label = "Generator Settings"
description = "JSON settings for flat world generation"
default = "{}"
group = "advanced"

[[settings.fields]]
name = "hardcore"
type = "boolean"
label = "Hardcore"
description = "Enable hardcore mode"
default = false

[[settings.fields]]
name = "hide_online_players"
type = "boolean"
label = "Hide Online Players"
description = "Hide player list from status response"
default = false
group = "advanced"

[[settings.fields]]
name = "initial_disabled_packs"
type = "text"
label = "Initial Disabled Packs"
description = "Comma-separated list of disabled datapacks"
default = ""
group = "advanced"

[[settings.fields]]
name = "initial_enabled_packs"
type = "text"
label = "Initial Enabled Packs"
description = "Comma-separated list of enabled datapacks"
default = "vanilla"
group = "advanced"

[[settings.fields]]
name = "level_name"
type = "text"
label = "World Name"
description = "Name of the world folder"
default = "world"

[[settings.fields]]
name = "level_seed"
type = "text"
label = "World Seed"
description = "Seed for world generation (leave empty for random)"
default = ""

[[settings.fields]]
name = "level_type"
type = "select"
label = "World Type"
description = "Type of world generation"
options = ["minecraft:normal", "minecraft:flat", "minecraft:large_biomes", "minecraft:amplified", "minecraft:single_biome_surface"]
default = "minecraft:normal"

[[settings.fields]]
name = "log_ips"
type = "boolean"
label = "Log IPs"
description = "Log player IP addresses"
default = true
group = "advanced"

[[settings.fields]]
name = "max_chained_neighbor_updates"
type = "number"
label = "Max Chained Neighbor Updates"
description = "Max consecutive neighbor updates before skipping (-1 for no limit)"
default = 1000000
min = -1
max = 2147483647
group = "advanced"

[[settings.fields]]
name = "max_players"
type = "number"
label = "Max Players"
description = "Maximum number of players"
default = 20
min = 1
max = 1000

[[settings.fields]]
name = "max_tick_time"
type = "number"
label = "Max Tick Time"
description = "Max milliseconds a tick can take before watchdog kills server (-1 to disable)"
default = 60000
min = -1
max = 2147483647
group = "advanced"

[[settings.fields]]
name = "max_world_size"
type = "number"
label = "Max World Size"
description = "Maximum world border radius"
default = 29999984
min = 1
max = 29999984

[[settings.fields]]
name = "motd"
type = "text"
label = "MOTD"
description = "Message displayed in the server list"
default = "A Minecraft Server"

[[settings.fields]]
name = "network_compression_threshold"
type = "number"
label = "Network Compression Threshold"
description = "Minimum packet size to compress (-1 to disable, 0 to compress all)"
default = 256
min = -1
max = 65535
group = "advanced"

[[settings.fields]]
name = "online_mode"
type = "boolean"
label = "Online Mode"
description = "Require Mojang authentication (disable for cracked clients)"
default = true

[[settings.fields]]
name = "op_permission_level"
type = "number"
label = "Op Permission Level"
description = "Default permission level for ops (1-4)"
default = 4
min = 1
max = 4
group = "advanced"

[[settings.fields]]
name = "player_idle_timeout"
type = "number"
label = "Player Idle Timeout"
description = "Minutes before idle players are kicked (0 to disable)"
default = 0
min = 0
max = 1440
group = "advanced"

[[settings.fields]]
name = "port"
type = "number"
label = "Server Port"
description = "Game server port"
default = 25565
min = 1024
max = 65535

[[settings.fields]]
name = "pause_when_empty_seconds"
type = "number"
label = "Pause When Empty"
description = "Pause server ticking after no players for this many seconds (0 to disable)"
default = 60
min = 0
max = 3600
group = "advanced"

[[settings.fields]]
name = "prevent_proxy_connections"
type = "boolean"
label = "Prevent Proxy Connections"
description = "Block connections using VPN/proxy"
default = false
group = "advanced"

[[settings.fields]]
name = "pvp"
type = "boolean"
label = "PVP"
description = "Allow player vs player combat"
default = true

[[settings.fields]]
name = "query_port"
type = "number"
label = "Query Port"
description = "Port for GameSpy4 query protocol"
default = 25565
min = 1024
max = 65535
group = "advanced"

[[settings.fields]]
name = "rate_limit"
type = "number"
label = "Rate Limit"
description = "Max packets per second before disconnect (0 to disable)"
default = 0
min = 0
max = 100000
group = "advanced"

[[settings.fields]]
name = "rcon_password"
type = "password"
label = "RCON Password"
description = "RCON access password"
default = ""

[[settings.fields]]
name = "rcon_port"
type = "number"
label = "RCON Port"
description = "RCON server port"
default = 25575
min = 1024
max = 65535

[[settings.fields]]
name = "region_file_compression"
type = "select"
label = "Region File Compression"
description = "Compression algorithm for region files"
options = ["deflate", "lz4", "none"]
default = "deflate"
group = "advanced"

[[settings.fields]]
name = "require_resource_pack"
type = "boolean"
label = "Require Resource Pack"
description = "Require players to accept the resource pack"
default = false
group = "advanced"

[[settings.fields]]
name = "resource_pack"
type = "text"
label = "Resource Pack URL"
description = "URL to a server resource pack"
default = ""
group = "advanced"

[[settings.fields]]
name = "resource_pack_id"
type = "text"
label = "Resource Pack ID"
description = "UUID for the resource pack"
default = ""
group = "advanced"

[[settings.fields]]
name = "resource_pack_prompt"
type = "text"
label = "Resource Pack Prompt"
description = "Custom message shown when resource pack is offered"
default = ""
group = "advanced"

[[settings.fields]]
name = "resource_pack_sha1"
type = "text"
label = "Resource Pack SHA-1"
description = "SHA-1 hash of the resource pack"
default = ""
group = "advanced"

[[settings.fields]]
name = "server_ip"
type = "text"
label = "Server IP"
description = "Bind to specific IP address (leave blank for all)"
default = ""
group = "advanced"

[[settings.fields]]
name = "simulation_distance"
type = "number"
label = "Simulation Distance"
description = "Maximum simulation distance in chunks"
default = 10
min = 2
max = 32

[[settings.fields]]
name = "spawn_animals"
type = "boolean"
label = "Spawn Animals"
description = "Allow animals to spawn"
default = true
group = "advanced"

[[settings.fields]]
name = "spawn_monsters"
type = "boolean"
label = "Spawn Monsters"
description = "Allow hostile mobs to spawn"
default = true
group = "advanced"

[[settings.fields]]
name = "spawn_npcs"
type = "boolean"
label = "Spawn NPCs"
description = "Allow villagers to spawn"
default = true
group = "advanced"

[[settings.fields]]
name = "spawn_protection"
type = "number"
label = "Spawn Protection"
description = "Radius of spawn protection (0 to disable)"
default = 16
min = 0
max = 256

[[settings.fields]]
name = "status_heartbeat_interval"
type = "number"
label = "Status Heartbeat Interval"
description = "Heartbeat interval for server status (0 to disable)"
default = 0
min = 0
max = 60
group = "advanced"

[[settings.fields]]
name = "sync_chunk_writes"
type = "boolean"
label = "Sync Chunk Writes"
description = "Enable synchronous chunk I/O"
default = true
group = "advanced"

[[settings.fields]]
name = "text_filtering_config"
type = "text"
label = "Text Filtering Config"
description = "Text filtering configuration"
default = ""
group = "advanced"

[[settings.fields]]
name = "text_filtering_version"
type = "number"
label = "Text Filtering Version"
description = "Text filtering version"
default = 0
min = 0
max = 100
group = "advanced"

[[settings.fields]]
name = "use_native_transport"
type = "boolean"
label = "Use Native Transport"
description = "Use Linux optimized network transport"
default = true
group = "advanced"

[[settings.fields]]
name = "view_distance"
type = "number"
label = "View Distance"
description = "Maximum view distance in chunks"
default = 10
min = 2
max = 32

[[settings.fields]]
name = "white_list"
type = "boolean"
label = "Whitelist"
description = "Only allow whitelisted players"
default = false

# ─── Commands (displayed in GUI command palette) ──────────────

[commands]

[[commands.fields]]
name = "say"
label = "Send Chat Message"
description = "Broadcast a message to the server"
method = "rcon"
rcon_template = "say {message}"
inputs = [
    { name = "message", type = "text", label = "Message", required = true, placeholder = "Enter message to send" }
]

[[commands.fields]]
name = "give"
label = "Give Item"
description = "Give an item to a player"
method = "rcon"
rcon_template = "give {player} {item} {amount}"
inputs = [
    { name = "player", type = "text", label = "Player Name", required = true, placeholder = "Player nickname" },
    { name = "item", type = "text", label = "Item ID", required = true, placeholder = "e.g. diamond, iron_ore" },
    { name = "amount", type = "number", label = "Amount", required = true, default = 1, min = 1, max = 64 }
]

[[commands.fields]]
name = "save-all"
label = "Save World"
description = "Save the game world"
method = "rcon"
rcon_template = "save-all"
inputs = []

[[commands.fields]]
name = "list"
label = "Player List"
description = "View list of connected players"
method = "rcon"
rcon_template = "list"
inputs = []

[[commands.fields]]
name = "weather"
label = "Change Weather"
description = "Change the server weather"
method = "rcon"
rcon_template = "weather {type} {duration}"
inputs = [
    { name = "type", type = "select", label = "Weather", required = true, options = ["clear", "rain", "thunder"] },
    { name = "duration", type = "number", label = "Duration (seconds)", required = true, default = 1000, min = 1, max = 1000000 }
]

[[commands.fields]]
name = "difficulty"
label = "Change Difficulty"
description = "Change the game difficulty"
method = "rcon"
rcon_template = "difficulty {level}"
inputs = [
    { name = "level", type = "select", label = "Difficulty", required = true, options = ["peaceful", "easy", "normal", "hard"] }
]

[[commands.fields]]
name = "gamemode"
label = "Change Game Mode"
description = "Change a player's game mode"
method = "rcon"
rcon_template = "gamemode {mode} {player}"
inputs = [
    { name = "mode", type = "select", label = "Game Mode", required = true, options = ["survival", "creative", "adventure", "spectator"] },
    { name = "player", type = "text", label = "Player Name", required = false, placeholder = "Leave empty for all" }
]

[[commands.fields]]
name = "time"
label = "Set Time"
description = "Change the time of day"
method = "rcon"
rcon_template = "time set {value}"
inputs = [
    { name = "value", type = "select", label = "Time", required = true, options = ["day", "noon", "night", "midnight", "0", "6000", "12000", "18000"] }
]

[[commands.fields]]
name = "tp"
label = "Teleport"
description = "Teleport a player"
method = "rcon"
rcon_template = "tp {player} {target}"
inputs = [
    { name = "player", type = "text", label = "Player", required = true, placeholder = "Player to teleport" },
    { name = "target", type = "text", label = "Destination", required = true, placeholder = "Target player or coordinates (x y z)" }
]

[[commands.fields]]
name = "kick"
label = "Kick Player"
description = "Kick a player from the server"
method = "rcon"
rcon_template = "kick {player} {reason}"
inputs = [
    { name = "player", type = "text", label = "Player Name", required = true },
    { name = "reason", type = "text", label = "Reason", required = false, placeholder = "Reason for kick" }
]

[[commands.fields]]
name = "ban"
label = "Ban Player"
description = "Ban a player from the server"
method = "rcon"
rcon_template = "ban {player} {reason}"
inputs = [
    { name = "player", type = "text", label = "Player Name", required = true },
    { name = "reason", type = "text", label = "Reason", required = false, placeholder = "Reason for ban" }
]

[[commands.fields]]
name = "pardon"
label = "Unban Player"
description = "Remove a player's ban"
method = "rcon"
rcon_template = "pardon {player}"
inputs = [
    { name = "player", type = "text", label = "Player Name", required = true }
]

[[commands.fields]]
name = "op"
label = "Op Player"
description = "Give operator permissions"
method = "rcon"
rcon_template = "op {player}"
inputs = [
    { name = "player", type = "text", label = "Player Name", required = true }
]

[[commands.fields]]
name = "deop"
label = "Deop Player"
description = "Remove operator permissions"
method = "rcon"
rcon_template = "deop {player}"
inputs = [
    { name = "player", type = "text", label = "Player Name", required = true }
]

[[commands.fields]]
name = "whitelist"
label = "Whitelist"
description = "Manage the server whitelist"
method = "rcon"
rcon_template = "whitelist {action} {player}"
inputs = [
    { name = "action", type = "select", label = "Action", required = true, options = ["add", "remove", "list", "on", "off", "reload"] },
    { name = "player", type = "text", label = "Player Name", required = false, placeholder = "Player name (for add/remove)" }
]

[[commands.fields]]
name = "seed"
label = "Show Seed"
description = "Display the world seed"
method = "rcon"
rcon_template = "seed"
inputs = []

[[commands.fields]]
name = "stop"
label = "Stop Server"
description = "Gracefully stop the server"
method = "rcon"
rcon_template = "stop"
inputs = []

# ─── Error definitions ────────────────────────────────────────

[errors]
server_not_running = "Server is not running. Please start the server first"
auth_failed = "RCON authentication failed: please check the password"
connection_refused = "Cannot connect to server. Please check RCON port and settings"
timeout = "Server response timeout. Please check server status"
rcon_disabled = "RCON is disabled. Set enable-rcon=true in server.properties"
internal_server_error = "Internal server error occurred"

# ─── Aliases ──────────────────────────────────────────────────

[aliases]
module_aliases = ["마인크래프트", "마크", "mc", "minecraft"]

[aliases.commands]
start = { aliases = ["시작", "실행", "켜기"], description = "Start the server" }
stop = { aliases = ["정지", "끝내기", "끄기"], description = "Stop the server" }
status = { aliases = ["상태", "상황", "확인"], description = "Check server status" }
say = { aliases = ["말", "채팅", "메시지"], description = "Broadcast a message" }
give = { aliases = ["지급", "줘", "item"], description = "Give an item to a player" }
save-all = { aliases = ["저장"], description = "Save the world" }
list = { aliases = ["목록", "플레이어", "유저"], description = "View connected players" }
weather = { aliases = ["날씨", "웨더"], description = "Change the weather" }
difficulty = { aliases = ["난이도", "어려움"], description = "Change game difficulty" }
gamemode = { aliases = ["겜모드", "게임모드"], description = "Change game mode" }
time = { aliases = ["시간"], description = "Set time of day" }
tp = { aliases = ["텔레포트", "이동"], description = "Teleport a player" }
kick = { aliases = ["킥", "추방"], description = "Kick a player" }
ban = { aliases = ["밴", "차단"], description = "Ban a player" }
pardon = { aliases = ["언밴", "해제"], description = "Unban a player" }
op = { aliases = ["오피"], description = "Give operator permissions" }
deop = { aliases = ["디옵"], description = "Remove operator permissions" }
whitelist = { aliases = ["화이트리스트", "화리"], description = "Manage whitelist" }

# ─── Console Syntax Highlighting ─────────────────────────
# 콘솔 출력에 적용할 하이라이팅 규칙 (GUI에서 렌더링)
# pattern: 정규식. (?P<hl>...) 캡처 그룹이 있으면 해당 부분만 색상 적용
# color: CSS 색상값 또는 시맨틱 토큰
# bold/italic: 스타일 옵션
#
# 규칙 적용 순서 = 선언 순서 (먼저 매치된 범위가 우선)

[syntax_highlight]

# ── 구조: 타임스탬프 + 스레드/레벨 ──────────────────────

# 1. 타임스탬프 [HH:MM:SS]
[[syntax_highlight.rules]]
name = "timestamp"
pattern = '^\[\d{2}:\d{2}:\d{2}\]'
color = "timestamp"

# 2. 스레드/레벨 — INFO (기본, 어둡게)
[[syntax_highlight.rules]]
name = "level_info"
pattern = '\[(?P<hl>[^\]]+/INFO)\]'
color = "dim"

# 3. 스레드/레벨 — WARN
[[syntax_highlight.rules]]
name = "level_warn"
pattern = '\[(?P<hl>[^\]]+/WARN)\]'
color = "warn"
bold = true

# 4. 스레드/레벨 — ERROR / FATAL
[[syntax_highlight.rules]]
name = "level_error"
pattern = '\[(?P<hl>[^\]]+/(ERROR|FATAL))\]'
color = "error"
bold = true

# 5. 스레드/레벨 — DEBUG
[[syntax_highlight.rules]]
name = "level_debug"
pattern = '\[(?P<hl>[^\]]+/DEBUG)\]'
color = "debug"
italic = true

# ── 서버 이벤트: 시작/완료/종료 ──────────────────────────

# 6. Done 메시지 (서버 준비 완료)
[[syntax_highlight.rules]]
name = "done_message"
pattern = '(?P<hl>Done \([^)]+\)!.*)'
color = "success"
bold = true

# 7. Starting minecraft server version X.Y.Z
[[syntax_highlight.rules]]
name = "server_version"
pattern = '(?P<hl>Starting minecraft server version .+)'
color = "info"
bold = true

# 8. Stopping the server / Stopping server
[[syntax_highlight.rules]]
name = "server_stopping"
pattern = '(?P<hl>Stopping the server|Stopping server)'
color = "warn"
bold = true

# ── 플레이어 ─────────────────────────────────────────────

# 9. 채팅 <Player>
[[syntax_highlight.rules]]
name = "chat_name"
pattern = '<(?P<hl>\w{3,16})>'
color = "player"
bold = true

# 10. 접속 — "Player joined the game"
[[syntax_highlight.rules]]
name = "player_join"
pattern = '(?P<hl>\w{3,16}) joined the game'
color = "#a6e3a1"
bold = true

# 11. 퇴장 — "Player left the game"
[[syntax_highlight.rules]]
name = "player_leave"
pattern = '(?P<hl>\w{3,16}) left the game'
color = "#f9e2af"

# 12. 접속 로그 — "Player[/IP:port] logged in"
[[syntax_highlight.rules]]
name = "player_login"
pattern = '(?P<hl>\w{3,16})\[/'
color = "player"
bold = true

# 13. 사망 메시지 — "Player was slain by ...", "Player drowned", etc.
[[syntax_highlight.rules]]
name = "death_message"
pattern = ': (?P<hl>\w{3,16} (was (slain|shot|blown|pummeled|squished|killed|stung|fireballed|obliterated|skewered|impaled)|drowned|burned|suffocated|fell|hit the ground|went off|walked into|tried to swim|experienced kinetic|starved|withered|died|was pricked|was roasted).*)'
color = "#f38ba8"

# ── 네트워크·식별자 ──────────────────────────────────────

# 14. UUID
[[syntax_highlight.rules]]
name = "uuid"
pattern = '[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}'
color = "uuid"

# 15. IP 주소(:포트)
[[syntax_highlight.rules]]
name = "ip_address"
pattern = '/(?P<hl>\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}(:\d+)?)'
color = "ip"

# 16. 좌표 (x, y, z) — 소수점 포함
[[syntax_highlight.rules]]
name = "coordinates"
pattern = '(?P<hl>-?\d+\.?\d*, -?\d+\.?\d*, -?\d+\.?\d*)'
color = "number"

# ── 리소스·네임스페이스 ──────────────────────────────────

# 17. minecraft:xxx 리소스 식별자
[[syntax_highlight.rules]]
name = "resource_id"
pattern = '(?P<hl>minecraft:\w+(/\w+)*)'
color = "keyword"

# 18. 어드밴스먼트 — "has made the advancement [Name]"
[[syntax_highlight.rules]]
name = "advancement"
pattern = 'the advancement \[(?P<hl>[A-Z][A-Za-z !]+)\]'
color = "success"

# ── 퍼센트·숫자 ──────────────────────────────────────────

# 19. 퍼센트 표시 (Preparing spawn area: 52%)
[[syntax_highlight.rules]]
name = "percentage"
pattern = '(?P<hl>\d+%)'
color = "number"
bold = true

# ── Java 스택트레이스 ────────────────────────────────────

# 20. 스택트레이스 "at" 라인
[[syntax_highlight.rules]]
name = "stacktrace_at"
pattern = '^\s+at .*'
color = "#585b70"

# 21. "Caused by:" 라인
[[syntax_highlight.rules]]
name = "stacktrace_caused"
pattern = '^Caused by:.*'
color = "error"

# 22. Exception 클래스명
[[syntax_highlight.rules]]
name = "exception_class"
pattern = '(?P<hl>[a-z]+(\.[a-z]+)*\.[A-Z]\w*Exception)'
color = "error"
bold = true

# ── 경고·에러 특수 메시지 ────────────────────────────────

# 23. Can't keep up!
[[syntax_highlight.rules]]
name = "cant_keep_up"
pattern = "(?P<hl>Can't keep up!.*)"
color = "warn"
bold = true

# 24. EULA 동의 필요
[[syntax_highlight.rules]]
name = "eula_warning"
pattern = '(?P<hl>You need to agree to the EULA.*)'
color = "error"
bold = true

# 25. [Server] 시스템 메시지
[[syntax_highlight.rules]]
name = "server_broadcast"
pattern = '\[(?P<hl>Server)\]'
color = "command"

# ── 명령어·셀렉터 (인게임 /command 구문 색상 참고) ────────

# 26. 슬래시 명령어 — /tp, /execute, /say, /give 등
#     Minecraft 인게임에서 연한 회색/흰색으로 표시되는 명령어 본체
#     콘솔에서는 command 토큰(핑크)으로 강조
[[syntax_highlight.rules]]
name = "slash_command"
pattern = '(?P<hl>/[a-z]{2,}\w*)'
color = "command"
bold = true

# 27. 엔티티 셀렉터 — @p, @a, @e, @r, @s (+ 선택적 [조건])
#     인게임에서 노란색으로 표시되는 엔티티 셀렉터
[[syntax_highlight.rules]]
name = "entity_selector"
pattern = '(?P<hl>@[paers](\[[^\]]*\])?)'
color = "selector"
bold = true

# 28. 문자열 리터럴 — "quoted text"
#     인게임에서 연두색 계열로 표시되는 문자열
[[syntax_highlight.rules]]
name = "string_literal"
pattern = '(?P<hl>"[^"]*")'
color = "string"
